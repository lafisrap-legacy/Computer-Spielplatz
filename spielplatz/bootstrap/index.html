<!DOCTYPE html>
<html lang="de">
<head>
<title>{{ .Title }}</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="static/css/bootstrap.min.css">
<link rel="stylesheet" href="static/css/bootstrap-theme.min.css">
<link rel="stylesheet" href="static/css/spielplatz.css">
<script src="static/js/jquery-2.1.4.min.js"></script>
<script src="static/js/bootstrap.min.js"></script>
<script src="static/js/processing.js"></script>
</head>
<body>
<div class="container">
    <canvas id="canvas" style="position: absolute; top: 0px; z-index: 10; pointer-events:none;"></canvas>
  <script>
    var canvas = document.getElementById("canvas");
    var processing = new Processing(canvas, function(processing) {
        processing.size(1140, 800);
        processing.background(0,0,0,0);

        var mouseIsPressed = false;
        processing.mousePressed = function () { mouseIsPressed = true; };
        processing.mouseReleased = function () { mouseIsPressed = false; };

        var keyIsPressed = false;
        processing.keyPressed = function () { keyIsPressed = true; };
        processing.keyReleased = function () { keyIsPressed = false; };

        function getImage(s) {
            var url = "https://www.kasandbox.org/programming-images/" + s + ".png";
            processing.externals.sketch.imageCache.add(url);
            return processing.loadImage(url);
        }

        var rotateFn = processing.rotate;
        processing.rotate = function(angle) {
            rotateFn(processing.radians(angle));
        }

        with (processing) {
            var winkel = 15;
            //angleMode = "radians";

            var draw = function() {
                background(0,0,0,0);
                fill(0, 150, 0, 128);
                stroke(0, 140, 0);
                
                text("Hello World!", 10, 10);              

                translate(900, 200);
                rotate(winkel);
                ellipse(0,0,300,100);
                resetMatrix();

                translate(900, 200);
                rotate(-winkel*1.54137);
                ellipse(0,0,100,300);
                resetMatrix();
                
                fill(255, 255, 255, 120);
                stroke(0, 140, 0);

                translate(900, 200);
                rotate(winkel*2.3);
                ellipse(0,0,30,100);
                resetMatrix();

                translate(900, 200);
                rotate(-winkel*1.54137);
                ellipse(0,0,30,100);
                resetMatrix();
                
                winkel++;
            };          
        };
        if (typeof draw !== 'undefined') processing.draw = draw;
    });
    </script>
    <div class="login-area">
        {{if not .UserName }}
            <a href="/login/" class="btn btn-info btn-sm pull-right">{{ .LoginLogin }} <span class="glyphicon glyphicon-share-alt"></span></a>
            <a href="/signup/" class="btn btn-info btn-sm pull-right">{{ .LoginSignup }} <span class="glyphicon glyphicon-book"></span></a>
        {{else}}
            <a href="/logout" class="btn btn-info btn-sm pull-right">{{ .LoginLogout }} '{{ .UserName }}' <span class="glyphicon glyphicon-search"></span></a>        
        {{end}}
    </div>
    <div class="jumbotron">
        <h1>{{ .Title }}</h1> 
        <p class="text-center">{{ .Subtitle }}</p> 
        <a href="#" class="btn btn-info btn-lg pull-right">Suche <span class="glyphicon glyphicon-search"></span></a>
    </div>
    <ul class="nav nav-tabs kuenste">
        {{range $i, $art := .Arts}}
            <li><a href="{{$art.Page}}" class="btn btn-default btn-{{$art.Size}}">{{$art.Name}}</a></li>
        {{end}}                       
    </ul>
    {{if .UserId }}
        <a href="#" class="btn btn-info btn-lg pull-right">Gruppen <span class="glyphicon glyphicon-search"></span></a>
    {{end}}

</div>
</body>
</html>
